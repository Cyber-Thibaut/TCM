<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../dist/output.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="menu.js"></script>
</head>
<style>
    .orange-border {
        display: inline-block;
    }

    .inner-content {
        padding: 5px;
        /* Ajustez la marge interne pour le contenu de chaque indice de ligne */
    }

    .orange-border p {
        margin: 0;
        /* Supprimez les marges internes pour le paragraphe */
    }

    .tcm-details {
        margin-bottom: 20px;
    }
</style>

<body>
    <br>
    <div class="bg-white dark:bg-base-100 py-24 sm:py-32">
        <div class="mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8">
            <h2 class="sr-only">Lignes de transport</h2>

            <div id="ligne-cards"
                class="grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8">
                <!-- Les cartes des lignes seront générées ici par JavaScript -->
            </div>
        </div>
    </div>


    <footer class="footer footer-center p-10 bg-primary text-primary-content">
        <aside>
            <img src="\img\TCM.png" width="100" height="100" alt="Logo TCM"
                class="bg-gray-200 bg-opacity-30 p-2 rounded ">
            <p class="font-bold">
                Transport Clermont Métropole <br />Partenaire de vos déplacements depuis 1989.
            </p>
            <p>Copyright © 2023 - Tous droits réservés</p>
        </aside>
    </footer>
    <script>
        // Fonction pour charger les données des lignes depuis le fichier JSON
        async function chargerDonneesLignes() {
            try {
                const response = await fetch('ligne.json'); // Charge le fichier JSON
                const data = await response.json(); // Convertit la réponse en objet JavaScript

                // Vérifiez que les données ont été chargées avec succès
                if (Array.isArray(data.lignes)) {
                    return data.lignes;
                } else {
                    throw new Error("Format de données incorrect dans le fichier JSON");
                }
            } catch (erreur) {
                console.error("Erreur lors du chargement des données des lignes : ", erreur);
                return []; // Retourne un tableau vide en cas d'erreur
            }
        }

        // Fonction pour générer les cartes des lignes
        async function genererCartesLignes() {
            const lignesData = await chargerDonneesLignes(); // Charge les données des lignes

            const ligneCardsContainer = document.getElementById("ligne-cards");

            lignesData.forEach((ligne) => {
                const carteLigne = document.createElement("a");
                carteLigne.href = `ligne.html#${ligne.id}`;
                carteLigne.classList.add("group");

                const imageLigne = document.createElement("div");
                imageLigne.classList.add(
                    "aspect-h-1",
                    "aspect-w-1",
                    "w-full",
                    "overflow-hidden",
                    "rounded-lg",
                    "bg-white", "dark:bg-base-100",
                    "xl:aspect-h-8",
                    "xl:aspect-w-7"
                );
                const image = document.createElement("img");
                image.src = `../img/${ligne.id}.png`; // Remplacez par le chemin réel de l'image
                image.alt = `Image de la Ligne ${ligne.id}`;
                image.classList.add(
                    "h-full",
                    "w-full",
                    "object-cover",
                    "object-center",
                    "group-hover:opacity-75"
                );
                imageLigne.appendChild(image);

                const nomLigne = document.createElement("h3");
                nomLigne.classList.add("mt-4", "text-lg", "text-primary");
                nomLigne.textContent = `Ligne ${ligne.id}`;

                const typeLigne = document.createElement("p");
                typeLigne.classList.add("mt-1", "text-lg", "font-medium", "text-primary-focus");
                typeLigne.textContent = ligne.nom;

                carteLigne.appendChild(imageLigne);
                carteLigne.appendChild(nomLigne);
                carteLigne.appendChild(typeLigne);

                ligneCardsContainer.appendChild(carteLigne);
            });
        }

        // Appeler la fonction pour générer les cartes des lignes
        genererCartesLignes();

    </script>
</body>

</html>